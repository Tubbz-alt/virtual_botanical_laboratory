<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <header>
            <h3>Prusinkiewicz and Lindenmayer (1990) <i>The Algorithmic Beauty of Plants</i> (<a
                    href="http://algorithmicbotany.org/papers/abop/abop.lowquality.pdf">pdf</a>)</h3>
            <h2>Chapter 1—Graphical modeling using L-systems</h2>
            <h1>Figure 1.10: Examples of curves generated by edge-rewriting
                L-systems: (b)  the Sierpiński gasket
                (p. 11)</h1>
        </header>
        <main>
            <canvas id="canvas"></canvas>
        </main>
        <script type="module">
            import {LSystem, TurtleInterpretation} from "../../../dist/web-lab.js";

const SIMPLE_LSYSTEM = `lsystem(
    alphabet: {Fl, Fr, -, +},
    axiom: Fr,
    productions: {
        Fl -> Fr + Fl + Fr,
        Fr -> Fl - Fr - Fl
    }
)`; 

const canvasElement = document.getElementById("canvas");
canvasElement.width = window.innerWidth;
canvasElement.height = window.innerHeight;
const canvas = canvasElement.getContext("2d");

canvas.strokeStyle = "Crimson";

const interpretation = new TurtleInterpretation({
    x: 100, 
    y: 100, 
    d: 4, 
    delta: Math.PI/3, 
    angle: 0
});
const lsystem = LSystem.parse(SIMPLE_LSYSTEM);

canvas.clearRect(0, 0, canvasElement.width, canvasElement.height);
canvas.beginPath();

interpretation.render(canvas, lsystem.derive(6));

canvas.stroke();
        </script>
    </body>
</html>
